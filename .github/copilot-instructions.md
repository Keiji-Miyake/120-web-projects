# GitHub Copilotカスタム指示

## プロジェクト概要
- 120個のWebアプリケーションを開発するプロジェクト
- 個人開発プロジェクトで開発経験を積み、スキルを向上させることが目的
- Next.jsとTypeScriptを使用した環境構築

## コーディング規約

### 全般
- クリーンコード原則に従うこと
- DRY（Don't Repeat Yourself）原則を遵守
- SOLID原則を意識した設計を心がける
- 関数とコンポーネントは単一責任の原則に従って設計する
- 副作用を最小限に抑え、予測可能な動作を実装する

### TypeScript
- `any`型の使用を避け、明示的な型定義を使用する
- インターフェースと型エイリアスを適切に使い分ける
- ジェネリクスを活用して再利用可能なコードを書く
- nullやundefinedの可能性がある値には必ずオプショナル型や型ガードを使用
- satisfies演算子を活用して型の互換性を確保する

### React/Next.js
- 関数コンポーネントとReact Hooksを使用
- useEffectの依存配列は常に正確に指定
- 再レンダリングを最小限に抑えるためmemo、useCallbackとuseMemoを適切に使用
- コンポーネントのpropsには適切な型定義を行う
- Server ComponentとClient Componentを適切に使い分ける

### ファイル構成
- 論理的な関心ごとに基づいてファイルとフォルダを構成（Feature-based）
- 共通コンポーネントは`src/components`に配置
- 機能固有のコンポーネントは対応するfeatureディレクトリに配置
- テストファイルはテスト対象のファイルと同じディレクトリに配置

### テスト
- ユニットテスト、統合テスト、E2Eテストをバランスよく実装
- テストは機能要件を満たすことの検証に重点を置く
- テストカバレッジを高く保ち、エッジケースもテストする
- テストはプロダクションコードよりも読みやすくメンテナンスしやすくする

## 最新の開発プラクティス

### フロントエンド
- Atomic Designパターンを採用してコンポーネント設計
- コンポーネント駆動開発（CDD）の手法を取り入れる
- アクセシビリティ（WCAG 2.1）に準拠したUI実装
- モバイルファーストレスポンシブデザインの採用
- 集中型状態管理よりもReact Context + useReducerやJotaiのようなアトミック状態管理を優先
- Reactクエリ（TanStack Query）を使用したデータフェッチングパターン

### パフォーマンス
- Core Web Vitalsの最適化を重視
- コードスプリッティングとレイジーローディングの活用
- 画像の最適化（WebP/AVIF形式、適切なサイズ）
- CSS-in-JSよりもCSS Modulesを優先し、バンドルサイズを最適化
- 不要な再レンダリングを防ぐパターンを採用

### 開発ワークフロー
- 機能単位での開発と小さなインクリメントでの進行
- TDD（Test-Driven Development）アプローチの採用
- 継続的インテグレーションとデプロイ（CI/CD）パイプラインの構築
- セマンティックバージョニングに基づくリリース管理
- GitHub Flowブランチ戦略の採用

### ドキュメンテーション
- コードコメントはなぜそうしたかに焦点を当てる
- README.mdを充実させ、プロジェクトの目的と使用方法を明確に
- 変更履歴（CHANGELOG.md）を維持する
- JSDocを使用した関数とコンポーネントのドキュメント化
- Storybookを活用したコンポーネントカタログの作成

## プロジェクト固有のガイドライン
- 各Webアプリケーションは独立して動作するようにする
- 共通ライブラリやユーティリティは再利用可能な形で設計
- プロジェクト間で一貫したUXを提供する
- プログレッシブウェブアプリ（PWA）対応を検討
- 個人開発の効率を高めるため、繰り返し作業の自動化を重視する